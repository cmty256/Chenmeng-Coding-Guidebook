---
title: 定时任务相关
date: 2024-07-11 14:24:43
permalink: /pages/c982ce/
author: 
  name: 沉梦听雨
  link: https://gitee.com/dream-deeply-tyu
---
# 定时任务相关

## cron 表达式

### 格式

cron 表达式是一种用于配置定时任务（计划任务）的字符串，它由**六个或七个**字段组成，表示时间表，格式如下：

```java
// 秒 分 时 日 月 星期 年 
* * * * * * ?
```

### 字段含义

每个字段由一个星号（`*`）或具体值组成，字段之间用空格分隔。以下是每个字段的含义：

1. **秒（0 - 59）**:
   - 任务执行的秒数，可以是单个数字，范围列表，或特殊字符。

2. **分（0 - 59）**:
   - 任务执行的分钟数。

3. **小时（0 - 23）**:
   - 任务执行的小时数。

4. **日期（1 - 31）**:
   - 任务执行的月份中的日期。

5. **月份（1 - 12 或 JAN-DEC）**:
   - 任务执行的月份。

6. **星期几（0 - 7 或 SUN-SAT）**:
   - 任务执行的星期几，0 或 7 表示星期日。

7. **年份（可选字段）**:
   - 如果需要指定年份，可以在表达式的末尾添加年份字段。

### 特殊字符

*特殊字符包括：*

1. 星号（`*`）: 表示匹配**任意值**。例如，* 在分钟字段中表示每分钟都执行。
2. 问号（`?`）: 表示**不指定值**，通常用在`日期`和`星期几`字段，通常用于避免冲突。
3. 连字符（`-`）: 表示一个**范围**，例如 `10-12` 表示从 10 到 12。
4. 斜线（`/`）: 表示**起始时间开始，每隔一定的间隔执行**，例如 `0/30` 表示每 30 分钟。
5. 逗号（`,`）：用于分隔多个值。例如，1,3,5 在小时字段中表示 1 点、3 点和 5 点执行。
6. `L`: 表示 “Last”，例如在日期字段表示一个月的**最后**一天。

*以下是一些具体的例子：*

- `0 * * * * ?`: 每分钟执行一次。
- `0 0/30 * * * ?`: 每 30 分钟执行。
- `0 0 * * * ?`：整点执行。
- `0 0-59/2 * * * ?`: 每小时的第 2 分钟开始，每 2 分钟执行一次。
- `0 8,14 * * * ?`: 每天的上午 8 点和下午 2 点执行。
- `0 0/5 14 * * ?`: 在下午 2 点到 3 点之间，每 5 分钟执行一次。
- `0 0 9-17 * * ?`: 从上午 9 点到下午 5 点，每小时的整点执行。
- `0 15 10 L \* ?`：每月最后一日的上午 10:15 执行。
- `0 15 10 ? * 6#3`: 每月的第三个星期五上午 10:15 执行。



## 在线表达式生成器

- [Cron - 在线Cron表达式生成器 (ciding.cc)](https://cron.ciding.cc/)
- [在线Cron表达式生成器 - 码工具 (matools.com)](https://www.matools.com/cron/)