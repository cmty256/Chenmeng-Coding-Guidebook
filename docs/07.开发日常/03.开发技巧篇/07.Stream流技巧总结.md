---
title: Stream流技巧总结
date: 2023-11-09 20:51:51
permalink: /pages/eac1b1/
---
# Stream 流技巧总结

## 抽取列表元素属性整合成列表集合

利用 stream 流的 `map` 方法：

```java

// 获取List的【id集合】
List<Long> ids = list.stream().map(LearningLesson::getId).collect(Collectors.tolist());

// 获取Set的【id集合】
Set<Long> ids2 = list,stream().map(LearningLesson;:getId).collect(Collectors,toSet());

```

>LearningLesson 是一个实体类。

## list 转 Map

*1、传统写法 - new 一个 Map*

```java

Map<Long, LearningLesson> map = new HashMap<>();
for (LearningLesson lesson : list) {
  map.put(lessson.getId(), lesson);
}

```

*2、使用 stream 流*

当要使用两个 for 循环的时候，这种方法可能可以用来提高性能。

```java
// toMap 方法
Map<Long, LearningLesson> lessonMap = list.stream()
  																		 .collect(Collectors.toMap(LearningLesson::getId, c -> c));

Map<Long, Long> lessonMap = list.stream()
  																		 .collect(Collectors.toMap(LearningLesson::getId, c -> c.getCourseId));

```

[图](https://cdn.nlark.com/yuque/0/2023/png/34964780/1699535840253-404d556d-9140-4165-a63a-429848e434e2.png?x-oss-process=image%2Fresize%2Cw_937%2Climit_0)

